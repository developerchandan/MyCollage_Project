var Kudoable,__bind=function(a,b){return function(){return a.apply(b,arguments)}};Kudoable=function(){function a(a){this.element=a,this.unlike=__bind(this.unlike,this),this.complete=__bind(this.complete,this),this.end=__bind(this.end,this),this.start=__bind(this.start,this),this.bindEvents(),this.element.data("likeable",this),this.meta=jQuery(".like-meta-"+this.element.attr("data-id")),this.element.data("likeable",this)}return a.prototype.bindEvents=function(){return this.element.children(".like-object").mouseenter(this.start),this.element.children(".like-object").mouseleave(this.end),window.likesdata.unlike?this.element.children(".like-object").click(this.unlike):this.element.children(".like-object").css("cursor","default"),jQuery(document).on("touchstart",this.element.children(".like-object"),this.start),jQuery(document).on("touchend",this.element.children(".like-object"),this.end)},a.prototype.isKudoable=function(){return this.element.hasClass("likeable")},a.prototype.isKudod=function(){return this.element.hasClass("like-complete")},a.prototype.start=function(){if(this.isKudoable()&&!this.isKudod())return this.element.trigger("like:active"),this.element.addClass("like-active"),this.meta.children(".like-hideonhover").hide(),this.meta.children(".like-dontmove").show(),this.timer=setTimeout(this.complete,700),this.timer},a.prototype.end=function(){if(this.isKudoable()&&!this.isKudod()&&(this.element.trigger("like:inactive"),this.element.removeClass("like-active"),this.meta.children(".like-hideonhover").show(),this.meta.children(".like-dontmove").hide(),null!=this.timer))return clearTimeout(this.timer)},a.prototype.complete=function(){return this.end(),this.incrementCount(),this.element.addClass("like-complete"),this.element.trigger("like:added")},a.prototype.unlike=function(a){if(a.preventDefault(),this.isKudod())return this.decrementCount(),this.element.removeClass("like-complete"),this.element.trigger("like:removed")},a.prototype.setCount=function(a){return this.meta.find(".like-count:first").html(a)},a.prototype.currentCount=function(){return parseInt(this.meta.find(".like-count:first").html())},a.prototype.incrementCount=function(){return this.setCount(this.currentCount()+1)},a.prototype.decrementCount=function(){var a=this.currentCount();return a>0?this.setCount(this.currentCount()-1):a},a}(),jQuery(function(a){var b=a.fn.likeable=function(){return this.each(function(){return new Kudoable(a(this))})};return b});var VideoCentral={init:function(){var a=jQuery(".video-central-single-content"),b=a.data("toggle");VideoCentral.loopViewSwitcher(),VideoCentral.lessMore(),jQuery(".orderby-select").change(function(){location.href=this.options[this.selectedIndex].value}),b&&jQuery(".video-central-single-content").readmore({speed:75,collapsedHeight:200,lessLink:'<a href="#">Read less</a>',moreLink:'<a href="#">Read more</a>'}).append('<a href="#">Read more</a>')},connectedControl:function(a,b){jQuery(".video-home-slider-grid").width();void 0!==jQuery().jcarousel&&b.jcarousel("items").each(function(){var c=jQuery(this),d=a.jcarousel("items").eq(c.index());c.on("click",function(){"stopped"===a.data("jcarouselautoscroll")&&(a.jcarouselAutoscroll("start"),a.data("jcarouselautoscroll",!0))}).on("active.jcarouselcontrol",function(){b.jcarousel("scrollIntoView",this),c.addClass("active")}).on("inactive.jcarouselcontrol",function(){c.removeClass("active")}).jcarouselControl({target:d,carousel:a})})},clickAjax:function(a,b,c){return!!b.data("ajaxload")&&void jQuery(a).on("click",function(a){return a.preventDefault(),c.data("jcarouselautoscroll")&&c.jcarouselAutoscroll("stop").data("jcarouselautoscroll","stopped"),!1})},stageSetup:function(a){a.find(".item-video").each(function(){jQuery(this).find(".video").length&&jQuery(this).find(".thumb, .caption").hide()})},autoScroll:function(a){var b=a.data("autoscroll-interval");b>0&&a.jcarouselAutoscroll({interval:b,autostart:!0})},targetedStage:function(a){a.on("itemtargetin.jcarousel",".video-item",function(a,b){var c=jQuery(this);c.find(".thumb").show(),c.find(".caption").show(),c.siblings(".video-item").find(".video").remove(),c.parents(".video-wall-wrap").find(".entry-header").hide(),c.parents(".video-wall-wrap").find('.entry-header[data-id="'+c.data("id")+'"]').fadeIn()}).on("itemtargetout.jcarousel",".video-item",function(a,b){jQuery(this)})},prevNextControl:function(a){jQuery(".video-carousel-list-prev").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"-=1",carousel:a}),jQuery(".video-carousel-list-next").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"+=1",carousel:a})},lessMore:function(){var a=jQuery(".video-central-single-content"),b=a.data("less-height")?a.data("less-height"):200,c=a.outerHeight(!1);c>b&&a.height(b),jQuery(".video-central-info-toggle-button").on("click",function(a){a.preventDefault(),jQuery(this).parent().siblings(".video-central-single-content").toggleClass("toggled"),jQuery(this).siblings(".video-central-content-gradient").toggleClass("hidden"),jQuery(this).toggleClass("is-open")})},loopViewSwitcher:function(){var a="video_central_loop_view",b="small-block-grid-",c=jQuery.cookie(a),d=jQuery(".switchable-view"),e=d.attr("data-view");if(c){var f=d.attr("class").split(/\s+/);jQuery.each(f,function(a,c){c.indexOf(b)!==-1&&d.removeClass(c)}),d.stop().fadeOut(100,function(){e&&d.removeClass(e),d.fadeIn().attr("data-view",c).addClass(c)})}jQuery(".loop-actions .view a").on("click",function(c){c.preventDefault();var f=jQuery(this).attr("data-type");return f!==e&&(jQuery(this).addClass("current").siblings("a").removeClass("current"),d.stop().fadeOut(100,function(){if(e){var a=d.attr("class").split(/\s+/);jQuery.each(a,function(a,c){c.indexOf(b)!==-1&&d.removeClass(c)})}jQuery(this).fadeIn().attr("data-view",f).addClass(f)}),void jQuery.cookie(a,f,{path:"/",expires:999}))})},koodiesave:function(a){var b=window.likesdata;if(0===a.length){for(var c=0;jQuery.removeCookie("likes"+c,{path:"/"});c++);return 0}for(var d=[];a.length>4e3;)d.push(a.substr(a.length-4e3)),a=a.substr(0,a.length-4e3);d.push(a),jQuery.each(d,function(a,c){jQuery.cookie("likes"+a,c,{expires:parseInt(b.lifetime),path:"/"})});for(var e=d.length;jQuery.removeCookie("likes"+e,{path:"/"});e++);return d.length}};jQuery(document).ready(function(a){var b,c,d=window.likesdata,e=[];VideoCentral.init(),jQuery(function(){var b=jQuery(".video-home-featured .video-wall-wrap-inner"),c=b.find(".video-carousel");if(VideoCentral.stageSetup(b),jQuery().jcarousel){c.jcarousel({wrap:"circular"}),VideoCentral.autoScroll(c),VideoCentral.targetedStage(c),VideoCentral.prevNextControl();var d=jQuery(".video-home-featured .carousel-nav .video-carousel-clip").jcarousel({vertical:!0,wrap:"circular"});a("body").hasClass("video-central-twenty")?(jQuery(".video-home-featured .video-carousel-prev").jcarouselControl({target:"-=2"}),jQuery(".video-home-featured .video-carousel-next").jcarouselControl({target:"+=2"})):(jQuery(".video-home-featured .video-carousel-prev").jcarouselControl({target:"-=4"}),jQuery(".video-home-featured .video-carousel-next").jcarouselControl({target:"+=4"})),VideoCentral.connectedControl(c,d)}}),jQuery(function(){var b=jQuery(".video-home-popular .video-wall-wrap-inner"),c=b.find(".video-carousel");if(VideoCentral.stageSetup(b),jQuery().jcarousel){c.jcarousel({wrap:"circular"}),VideoCentral.autoScroll(c),VideoCentral.targetedStage(c);var d=jQuery(".video-home-popular .carousel-nav .video-carousel-clip").jcarousel({vertical:!0,wrap:"circular"});a("body").hasClass("video-central-twenty")?(jQuery(".video-home-popular .video-carousel-prev").jcarouselControl({target:"-=2"}),jQuery(".video-home-popular .video-carousel-next").jcarouselControl({target:"+=2"})):(jQuery(".video-home-popular .video-carousel-prev").jcarouselControl({target:"-=4"}),jQuery(".video-home-popular .video-carousel-next").jcarouselControl({target:"+=4"})),VideoCentral.connectedControl(c,d)}}),jQuery("figure.like").likeable(),b="";for(var f=0;void 0!==(e=jQuery.cookie("likes"+f));f++)b+=e;if(b.length>0&&jQuery("figure.like").each(function(){b.indexOf(jQuery(this).attr("data-id")+"_")>-1&&jQuery(this).removeClass("like-animate").addClass("like-complete")}),jQuery("figure.like").bind("like:added",function(a){var c=jQuery(this).attr("data-id");b.indexOf(c+"_")===-1&&jQuery.post(d.ajaxurl,{action:"like",nonce:d.nonce,id:c},function(a){a.success&&(b=b+c+"_",VideoCentral.koodiesave(b))},"json").fail(function(){alert("failed")})}),jQuery("figure.like").bind("like:removed",function(a){var e=jQuery(this).attr("data-id");b.length>0&&(c=b.replace(new RegExp(e+"_","g"),""),b!==c&&jQuery.post(d.ajaxurl,{action:"unlike",nonce:d.nonce,id:e},function(a){a.success&&(VideoCentral.koodiesave(c),b=c)},"json").fail(function(){alert("failed here")}))}),parseInt(d.refresh)>0){jQuery.ajaxSetup({cache:!1});var g=[];jQuery(".likeable").each(function(){g.push(jQuery(this).attr("data-id"))}),setInterval(function(){jQuery.post(d.ajaxurl,{action:"likecounts",nonce:d.nonce,ids:g},function(a){a.success&&jQuery.each(a.counts,function(a,b){jQuery(".like-meta-"+a+" .like-count").html(b)})},"json")},parseInt(d.refresh))}});